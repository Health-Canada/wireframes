<!DOCTYPE html><!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]--><!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
<title>Regulatory Decision Summaries - Canada.ca</title>
<meta content="width=device-width,initial-scale=1" name="viewport">
<!-- Meta data -->
<meta name="description" content="Web Experience Toolkit (WET) includes reusable components for building and maintaining innovative Web sites that are accessible, usable, and interoperable. These reusable components are open source software and free for use by departments and external Web communities">
<!-- Meta data-->
<!--[if gte IE 9 | !IE ]><!-->
<link href="../assets/favicon.ico" rel="icon" type="image/x-icon">
<link rel="stylesheet" href="../css/wet-boew.min.css">
<!--<![endif]-->
<link rel="stylesheet" href="../css/theme.min.css">
<!--[if lt IE 9]>
<link href="../assets/favicon.ico" rel="shortcut icon" />

<link rel="stylesheet" href="../css/ie8-wet-boew.min.css" />
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="../js/ie8-wet-boew.min.js"></script>
<![endif]-->
<!--[if lte IE 9]>


<![endif]-->
<noscript><link rel="stylesheet" href="../css/noscript.min.css" /></noscript>
<!-- Google Tag Manager DO NOT REMOVE OR MODIFY - NE PAS SUPPRIMER OU MODIFIER -->
<script>dataLayer1 = [];</script>
<!-- End Google Tag Manager -->

<link rel="stylesheet" href="../css/rep.css">

<style>
.fileUpload {
    position: relative;
    overflow: hidden;
    /*margin: 10px;*/
}
.fileUpload input.upload {
    position: absolute;
    top: 0;
    right: 0;
    margin: 0;
    padding: 0;
    font-size: 20px;
    cursor: pointer;
    opacity: 0;
    filter: alpha(opacity=0);
}

#btn-file-group .btn-file {
  position: relative;
  overflow: hidden;
}
#btn-file-group input[type=file] {
  position: absolute;
  top: 0;
  right: 0;
  min-width: 100%;
  min-height: 100%;
  font-size: 100px;
  text-align: right;
  filter: alpha(opacity=0);
  opacity: 0;
  background: red;
  cursor: inherit;
  display: block;
}
</style>


</head>
<body vocab="http://schema.org/" typeof="WebPage">
<!-- Google Tag Manager DO NOT REMOVE OR MODIFY - NE PAS SUPPRIMER OU MODIFIER -->
<noscript><iframe title="Google Tag Manager" src="//www.googletagmanager.com/ns.html?id=GTM-TLGQ9K" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer1'?'&l='+l:'';j.async=true;j.src='//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer1','GTM-TLGQ9K');</script>
<!-- End Google Tag Manager -->
<ul id="wb-tphp">
<li class="wb-slc">
<a class="wb-sl" href="#wb-cont">Skip to main content</a>
</li>
<li class="wb-slc visible-sm visible-md visible-lg">
<a class="wb-sl" href="#wb-info">Skip to "About this site"</a>
</li>
</ul>
<header role="banner">
<div id="wb-bnr" class="container">
<section id="wb-lng" class="visible-md visible-lg text-right">
<h2 class="wb-inv">Language selection</h2>
<div class="row">
<div class="col-md-12">
<ul class="list-inline margin-bottom-none">
<li><a lang="fr" href="content-fr.html">Français</a></li>
</ul>
</div>
</div>
</section>
<div class="row">
<div class="brand col-xs-8 col-sm-9 col-md-6">
<a href="http://www.canada.ca/en/index.html"><object type="image/svg+xml" tabindex="-1" data="../assets/sig-blk-en.svg"></object><span class="wb-inv"> Government of Canada</span></a>
</div>
<section class="wb-mb-links col-xs-4 col-sm-3 visible-sm visible-xs" id="wb-glb-mn">
<h2>Search and menus</h2>
<ul class="list-inline text-right chvrn">
<li><a href="#mb-pnl" title="Search and menus" aria-controls="mb-pnl" class="overlay-lnk" role="button"><span class="glyphicon glyphicon-search"><span class="glyphicon glyphicon-th-list"><span class="wb-inv">Search and menus</span></span></span></a></li>
</ul>
<div id="mb-pnl"></div>
</section>
<section id="wb-srch" class="col-xs-6 text-right visible-md visible-lg">
<h2 class="wb-inv">Search</h2>
<form action="#" method="post" name="cse-search-box" role="search" class="form-inline">
<div class="form-group">
<label for="wb-srch-q" class="wb-inv">Search website</label>
<input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="27" maxlength="150" placeholder="Search Canada.ca">
<datalist id="wb-srch-q-ac">
<!--[if lte IE 9]><select><![endif]-->
<!--[if lte IE 9]></select><![endif]-->
</datalist>
</div>
<div class="form-group submit">
<button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub"><span class="glyphicon-search glyphicon"></span><span class="wb-inv">Search</span></button>
</div>
</form>
</section>
</div>
</div>
<nav role="navigation" id="wb-sm" class="wb-menu visible-md visible-lg" data-trgt="mb-pnl" data-ajax-fetch="../ajax/sitemenu-en.html" typeof="SiteNavigationElement">
<h2 class="wb-inv">Topics menu</h2>
<div class="container nvbar">
<div class="row">
<ul class="list-inline menu">
<li><a href="http://www.esdc.gc.ca/en/jobs/index.page">Jobs</a></li>
<li><a href="http://www.cic.gc.ca/english/index.asp">Immigration</a></li>
<li><a href="http://travel.gc.ca/">Travel</a></li>
<li><a href="http://www.canada.ca/en/services/business/index.html">Business</a></li>
<li><a href="http://www.canada.ca/en/services/benefits/index.html">Benefits</a></li>
<li><a href="http://healthycanadians.gc.ca/index-eng.php">Health</a></li>
<li><a href="http://www.canada.ca/en/services/taxes/index.html">Taxes</a></li>
<li><a href="http://www.canada.ca/en/services/index.html">More services</a></li>
</ul>
</div>
</div>
</nav>
<nav role="navigation" id="wb-bc" class="" property="breadcrumb">
<h2 class="wb-inv">You are here:</h2>
<div class="container">
<div class="row">
<ol class="breadcrumb">
<li><a href="http://www.canada.ca/en/index.html">Home</a></li>
<li>Regulatory Enrolment Process - Step 1</li>
<li>Regulatory Enrolment Process - Step 2</li>
</ol>
</div>
</div>
</nav>
</header>
<main role="main" property="mainContentOfPage" class="container">
<h1 property="name" id="wb-cont">Regulatory Enrolment Process</h1>
<div id="navigation" class="nvg">
	<ul class="nav nav-pills" id="navREP">
    	<li><a href="rep_1.html" class="boldFont" id="navStep1">Step 1 - NEW Regulatory Activity Enrolment</a></li>
    	<li class="active"><a href="#" class="boldFont" id="navStep2">Step 2 - NEW Regulatory Activity Enrolment</a></li>
    	<li><a href="rep_3.html" class="boldFont" id="navStep3">Step 3 - NEW Regulatory Activity Enrolment</a></li>
		<li><a class="boldFont" href="rep_HCInternal.html" id="navStep4">HC Internal - NEW Regulatory Activity Enrolment</a></li>
    </ul>
</div>
<section>

	<br /><br />
	
		<div class="row">
			<div class="col-sm-offset-9 col-sm-3">
				<button class=" btn btn-sm btn-default wb-toggle" type="button" data-toggle='{"selector": ".raMainDetails"}'>Collapse/Expand ALL</button>
			</div>
		</div>
		<ul class="list-unstyled marginTop-15">
			<li>
				<details class="panel panel-primary raMainDetails">
					<summary class="panel-heading"><h2 class="panel-title">STEP 2a - Regulatory Activity Information</h2></summary>
						<div class="panel-body">
						<div id="regActivityMain">
								<div class="row">
									<div class="col-sm-4">
										<div class="form-group">
											<label for="raCompanyId">Company Id</label>
											<input type="text" class="form-control input-sm full-width" id="raCompanyId" placeholder="Enter Company Id" />
										</div>
									</div>
									<div class="col-sm-5">
										<label>Dossier Id</label>
										<div class="input-group">
										  <span class="input-group-addon input-sm" id="raEnrolmentDosIdPrefix">HC6-24-</span>
										  <input type="text" class="form-control input-sm" value="Enter Dossier Id" aria-describedby="raEnrolmentDosIdPrefix">
										</div>
									</div>
									<!--
										<div style="padding-right: 0px; width: 95px" class="col-sm-2">
											<div class="form-group">
												<label for="raDossierId">Dossier Id</label>
												<input class="form-control input-sm full-width" style="border-top-right-radius:0; border-bottom-right-radius:0; border:1px solid black; border-right:none"id="raDossierId" value="HC6-24-" readonly="readonly" type="text">
											</div>
										</div>
										
										<div class="col-sm-4" style="padding-left:0px;">
											<div class="form-group" style="padding-top: 28px;">
												<label for="raDossierId2" style="visibility:hidden">Dossier</label>
												<input type="text" class="form-control input-sm full-width" style="border-top-left-radius:0; border-bottom-left-radius:0; border:1px solid black; border-left:none"id="raDossierId2" placeholder="Enter Dossier Id" />
											</div>
										</div>
										-->
								</div>
							<div class="row">
								<div class="col-sm-3">
									<div class="form-group">
										<label for="raEnrolmentActivityLead" class="control-label">Regulatory Activity Lead</label>
									</div>
								</div>
								<div class="col-sm-9">
									<div class="form-group">
										<select class="form-control input-sm full-width" name="raEnrolmentActivityLead" id="raEnrolmentActivityLead">
											<option label=" "></option>
											<option value="1"></option>
											<option value="2"></option>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
									<div class="col-sm-3">
										<div class="form-group">
											<label for="raEnrolmentActivityType" class="control-label">Regulatory Activity Type</label>
										</div>
									</div>
									<div class="col-sm-9">
										<div class="form-group">
											<!-- <input class="form-control input-sm full-width" type="text" id="raEnrolmentActivityType" name="raEnrolmentActivityType" list="raRegActivityTypeSuggestions" /> -->
											 <select  class="form-control input-sm full-width" id="raRegActivityTypeSuggestions">
												<!--[if lte IE 9]><select><![endif]-->
												<option label=" "></option>
												<option value="Abbreviated New Drug Submission (ANDS)">Abbreviated New Drug Submission (ANDS)</option>
												<option value="Administrative manufacturer name/product name change/licensing agreements (ADMIN)">Administrative manufacturer name/product name change/licensing agreements (ADMIN)</option>
												<option value="Clinical Trial Application (CTA)">Clinical Trial Application (CTA)</option>
												<option value="Clinical Trial Application Amendment (CTA-A)">Clinical Trial Application Amendment (CTA-A)</option>
												<option value="Drug Identification Number submission - all types (DIN)">Drug Identification Number submission - all types (DIN)</option>
												<option value="New Drug Submission (NDS)">New Drug Submission (NDS)</option>
												<option value="Notifiable Change (NC)">Notifiable Change (NC)</option>
												<option value="Post-Authorization Division 1 (PDC)">Post-Authorization Division 1 (PDC)</option>
												<option value="Supplemental Abbreviated New Drug Submission (SANDS)">Supplemental Abbreviated New Drug Submission (SANDS)</option>
												<option value="Supplemental New Drug Submission (SNDS)">Supplemental New Drug Submission (SNDS)</option>
												<option value="Veterinary Abbreviated New Drug Submission (VANDS)">Veterinary Abbreviated New Drug Submission (VANDS)</option>
												<option value="Veterinary Drug Identification Number Submission - all types (VDIN)">Veterinary Drug Identification Number Submission - all types (VDIN)</option>
												<option value="Veterinary Investigational New Drug (VIND)">Veterinary Investigational New Drug (VIND)</option>
												<option value="Veterinary Investigational New Drug Amendment (VIND-AM)">Veterinary Investigational New Drug Amendment (VIND-AM)</option>
												<option value="Veterinary New Drug Submission (VINDS)">Veterinary New Drug Submission (VINDS)</option>
												<option value="Veterinary Notifiable Change (VNC)">Veterinary Notifiable Change (VNC)</option>
												<!--[if lte IE 9]></select><![endif]-->
											</select>
										</div>
									</div>
								   
								</div>
							<div class="row">
								<div class="col-sm-3">
									<div class="form-group">
										<label for="raEnrolmentFeeClass" class="control-label">Fee Class</label>
									</div>
								</div>
								<div class="col-sm-9">
									<div class="form-group">
										<select class="form-control input-sm" name="raEnrolmentFeeClass" id="raEnrolmentFeeClass">
										<option label=" "></option>
										<option value="1"></option>
										<option value="2"></option>
										</select>
									</div>
								</div>
								</div>
							
							<div class="row" id="raEnrolmentAdmSubAttest">
								<div class="col-sm-7 col-sm-offset-3">
									<div class="form-group">
										<p>I confirm that this administrative submission type is NOT a LASA submission</p>
									</div>
								</div>
								<div class="col-sm-2">
									<div class="form-group">
										<div class="checkbox">
											<label><input id="raEnrolmentAdmSubAttestA" type="checkbox" value="" />I Confirm
				</label>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12">
									<div class="form-group">
										<label class="control-label" for="regEnrolmentRegActReason">Reason for filing this Regulatory Activity:</label>
										<textarea class="form-control input-sm full-width" rows="4" cols="col-sm-12" id="regEnrolmentRegActReason"></textarea>
									</div>
								</div>
							</div>
								<div class="row">
										<div class="form-group">
											<label for="raEnrolmentSubThirdParty" class="control-label col-sm-8">Will the submission be signed / filed by a third party on behalf of the manufacturer / sponsor?</label>
											<select class="form-control input-sm col-sm-2" name="raEnrolmentSubThirdParty" id="raEnrolmentSubThirdParty" onchange="checkRaEnrolmentSubThirdPartySelection()">
												<option label=" "></option>
												<option value="1">Yes</option>
												<option value="2">No</option>
											</select>
										</div>
									</div>
								</div>
								<div class="row" id="raAutLetter" style="display:none">
									<div class="col-sm-4">
										<div class="form-group">
											<label for="raAutLetterFileUpload" class="control-label" >Please upload Authorization letter:</label>
										</div>
									</div>
									<div class="col-sm-6">
										<div class="form-group">
											<label class="wb-inv" for="uploadFile">Select File</label>
											<input class="form-control input-sm full-width" id="uploadFile" placeholder="Select File" disabled="disabled" />
										</div>
									</div>
									<div class="col-sm-2">
										<div class="form-group fileUpload btn btn-primary btn-sm">
											<span>Select file</span>
											<input type="file"  class="full-width upload input-sm" onchange="uploadBtn()" id="raAutLetterFileUpload"/>
										</div>
									</div>
								</div>
							</div>
						
						<div class="panel panel-default">
							<header class="panel-heading"><h3 class="panel-title">Related Regulatory Activities</h3></header>
							<div class="panel-body">
						<ul id="raEnrolmentRelList" class="list-unstyled">
							<li id="raEnrolmentRel1">
								<details open="open">
							<summary class="heightAdjust">Related Regulatory Activity 1 [Referred to in this Submission]</summary>
							<div class="well well-sm">
							<div class="row">
								<div class="form-group col-sm-12">
									<label for="raEnrolmentRel1ActivityType" class="control-label">Regulatory Activity Type:</label>
									<div class="">
										<select class="form-control input-sm full-width" name="raEnrolmentRel1ActivityType" id="raEnrolmentRel1ActivityType">
										<option label=" "></option>
										<option value="1"></option>
										<option value="2"></option>
										</select>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="form-group col-sm-4">
									<label for="raEnrolmentRel1DateCleared" ><span class="field-name">Date Cleared</span><span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span>: </label>
									<input class="form-control  input-sm full-width" type="date" id="raEnrolmentRel1DateCleared" name="raEnrolmentRel1DateCleared" data-rule-dateiso="true">
								</div>
								<div class="form-group col-sm-3">
									<label for="raEnrolmentRel1ControlNo" class="control-label">Control No.</label>
										<div class="">
											<input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1ControlNo">
										</div>
								</div>
								<div class="form-group col-sm-5">
									<label for="raEnrolmentRel1FilNo" class="control-label">Dossier ID (Previously File No.)</label>
										<div class="">
											<input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1FilNo">
										</div>
								</div>
							</div>
							<div class="row">
								<div class="form-group col-sm-12">
									<label for="raEnrolmentRel1ManuName" class="control-label">Manufacturer / Sponsor Name [Full Legal Name - No Abbreviations]</label>
										<div class="">
											<input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1ManuName">
										</div>
								</div>
							</div>
							<div class="row">
								<div class="form-group col-sm-12">
									<label for="raEnrolmentRel1SubReason" class="control-label">Reason for Submission</label>
										<div class="">
											<input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1SubReason">
										</div>
								</div>
							</div>
							<div id="raEnrolmentRel1DIN">
								<div class="row">
									<label for="raEnrolmentRel1DINLabel" class=" col-sm-10 control-label">Associated DINs</label>
								</div>
								<div id="raEnrolmentRel1DINRows">
								<div class="row" id="raEnrolmentRel1DINRow1">
									<!--
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN1Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN1">DIN</label>
										<input type="text" id="raEnrolmentRel1DIN1" class="form-control input-sm col-sm-2" placeholder="">
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN2Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN2">DIN</label>
										<input type="text" id="raEnrolmentRel1DIN2" class="form-control input-sm col-sm-2" placeholder="">
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN3Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN3">DIN</label>
										<input type="text" id="raEnrolmentRel1DIN3" class="form-control input-sm col-sm-2" placeholder="">
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN4Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN4">DIN</label>
										<input type="text" id="raEnrolmentRel1DIN4" class="form-control input-sm col-sm-2" placeholder="">
									</div>-->
									
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN1Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN1">DIN</label>
										<div class="input-group">
											<input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN1" placeholder="">
											<span class="input-group-btn">
												<button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN1DelBut, 'raEnrolmentRel1DIN')" id="raEnrolmentRel1DIN1DelBut" type="button">
													<span class="glyphicon glyphicon-remove"></span>
												</button>
											</span>
										</div>
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN2Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN2">DIN</label>
										<div class="input-group">
											<input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN2" placeholder="">
											<span class="input-group-btn">
												<button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN2DelBut, 'raEnrolmentRel1DIN')" id="raEnrolmentRel1DIN2DelBut" type="button">
													<span class="glyphicon glyphicon-remove"></span>
												</button>
											</span>
										</div>
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN3Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN3">DIN</label>
										<div class="input-group">
											<input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN3" placeholder="">
											<span class="input-group-btn">
												<button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN3DelBut, 'raEnrolmentRel1DIN')" id="raEnrolmentRel1DIN3DelBut" type="button">
													<span class="glyphicon glyphicon-remove"></span>
												</button>
											</span>
										</div>
									</div>
									<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN4Grp">
										<label class="wb-inv" for="raEnrolmentRel1DIN4">DIN</label>
										<div class="input-group">
											<input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN4" placeholder="">
											<span class="input-group-btn">
												<button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN4DelBut, 'raEnrolmentRel1DIN')" id="raEnrolmentRel1DIN4DelBut" type="button">
													<span class="glyphicon glyphicon-remove"></span>
												</button>
											</span>
										</div>
									</div>
								</div>
								</div>
								<div class="row">
									<div class="form-group col-sm-2" id="raEnrolmentRel1DINAddBut">
										<button class="btn btn-default btn-sm" type="submit" id="raEnrolmentRel1AddBut" onclick="addDIN(raEnrolmentRel1AddBut,'raEnrolmentRel1DIN')">Add a DIN</button>
									</div>
								</div>
							</div>
							</div>
							</details>
							</li>
						</ul>
						<div class="row marginTop-15">
							<div class="col-sm-4">
								<button class="btn btn-info btn-sm" onclick="addNewRelSubmission()" type="submit">Add Another Related Submission</button>
							</div>
						</div>
						</div>
						</div>
						</div>
				</details>
			</li>
			<li>
				<details class="panel panel-primary raMainDetails">
					<summary class="panel-heading"><h2 class="panel-title">STEP 2b - Drug Product Formulation Information</h2></summary>
					<div class="panel-body">
						<h5>Rationale for all SNDS, SANDS , (all human drug types); Veterinary Supplemental New Drug Submission (VSNDS), Veterinary Supplemental Abbreviated New Drug Submission (VSANDS) (all veterinary drug types); or for biological drug DIN submissions </h5>
						<div class="well well-sm">
							<div class="row"> 
								<div class="col-sm-7"> 
									<div class="checkbox">
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> New route of administration, dosage form and/or strength</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> New claims/use, indications, recommended administration or dosage regime</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in formulation or method of manufacturing with clinical/bio data</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in drug substance/product (site, method, equipment, process control)</label>
											</div>
										</div>
									</div>
								</div>
								<div class="col-sm-5">
									<div class="checkbox">
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Replace sterility test with process parametric release </label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Confirmatory studies</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" onchange="otherCheckBox(this, otherRationale1)"> Other  (please specify):</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<input  type="text" class="form-control input-sm full-width" id="otherRationale1" style="display: none;">
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
						
						<h5> Type of Notifiable Change (NC) or Veterinary Notifiable Change (VNC) submission (if applicable)  </h5>
						<div class="well well-sm">
							<div class="row"> 
								<div class="col-sm-6"> 
									<div class="checkbox">
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in text of labelling </label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in drug substance (source, synthesis)</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in formulation</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in specifications (medicinal or non-medicinal  ingredient, pharmaceutical form, analytical method)</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" />Change in expiry period/storage conditions</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" onchange="otherCheckBox(this, otherRationale2)"> Other  (please specify):</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<input  type="text" class="form-control input-sm full-width" id="otherRationale2" style="display: none;">
											</div>
										</div>
									</div>
								</div>
								<div class="col-sm-6">
									<div class="checkbox">
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in manufacturing method</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in manufacturing site</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in container size for parenteral drug</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in packaging specifications for parenteral/inhalation drug</label>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<label><input type="checkbox" value="" /> Change in packaging material composition</label>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</details>
			</li>
		</ul>
			
			<!--
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Appendix 3 - (Placeholder)
					</h3>
				</div>
				<div class="panel-body">
					<div class="row">
						<div class="col-sm-6">
							<div class="form-group">
								<label for="">Clinical Trial Protocol Number (must be assigned)</label>
								<input type="text" class="form-control input-sm full-width" id="" placeholder="">
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group">
								<label for="">Clinical Trial Protocol Title</label>
								<input type="text" class="form-control input-sm full-width" id="" placeholder="" >
							</div>
						</div>
					</div>
					<div class="row"> 
						<div class="col-sm-12">
							<div class="form-group">
								<label for="">Is the investigational product obtained from the Canadian market?  </label>	
							 	<span><input value="" type="checkbox"> Yes</span> <!-- radio vs select -->
							 	<!--<span><input value="" type="checkbox"> No</span>	 
							</div>
						</div>
					</div> 
				</div>
			</div>-->

		</div>
	</div>
	</div>
<div class="panel-footer text-center">
        <div class="form-group mrgn-bttm-0">
            <a class="btn btn-primary" href="rep_1.html">&lt; Return to Step 1</a> <a class="btn btn-primary" href="">Save as Draft</a> <a class="btn btn-primary" href="rep_3.html">Continue to Step 3 &gt;</a>
        </div>
</div>

</section>
<div class="form-group">
<div class="col-sm-offset-3 col-sm-9">

</div>
</div>
</form>
<div class="row pagedetails">
<div class="col-xs-6 datemod">
<dl id="wb-dtmd">
<dt>Date modified:&#32;</dt>
<dd><time property="dateModified">2015-01-21</time></dd>
</dl>
</div>
<div class="col-xs-6 text-right">
<a href="http://www.canada.ca/en/contact/feedback.html" class="btn btn-default"><span class="glyphicon glyphicon-comment mrgn-rght-sm"></span>Feedback<span class="wb-inv"> about this web site</span></a>
</div>
</div>
</main>
<footer role="contentinfo" id="wb-info">
<nav role="navigation" class="container visible-sm visible-md visible-lg wb-navcurr">
<h2 class="wb-inv">About this site</h2>
<div class="row">
<div class="col-sm-3 col-lg-3">
<section>
<h3>Contact information</h3>
<ul class="list-unstyled">
<li><a href="#">Link 1</a></li>
<li><a href="#">Link 2</a></li>
<li><a href="#">Link 3</a></li>
</ul>
</section>
<section>
<h3>News</h3>
<ul class="list-unstyled">
<li><a href="http://news.gc.ca/web/index-en.do">Newsroom</a></li>
<li><a href="http://news.gc.ca/web/nwsprdct-en.do?mthd=tp&amp;crtr.tp1D=1">News releases</a></li>
<li><a href="http://news.gc.ca/web/nwsprdct-en.do?mthd=tp&amp;crtr.tp1D=3">Media advisories</a></li>
<li><a href="http://news.gc.ca/web/nwsprdct-en.do?mthd=tp&amp;crtr.tp1D=970">Speeches</a></li>
<li><a href="http://news.gc.ca/web/nwsprdct-en.do?mthd=tp&amp;crtr.tp1D=980">Statements</a></li>
</ul>
</section>
</div>
<section class="col-sm-3 col-lg-3">
<h3>Government</h3>
<ul class="list-unstyled">
<li><a href="http://www.canada.ca/en/gov/system/index.html">How government works</a></li>
<li><a href="http://www.canada.ca/en/gov/dept/index.html">Departments &amp; agencies</a></li>
<li><a href="http://pm.gc.ca/eng">Prime Minister</a></li>
<li><a href="http://www.canada.ca/en/gov/ministers/index.html">Ministers</a></li>
<li><a href="http://www.canada.ca/en/gov/policy/index.html">Policies, regulations &amp; laws</a></li>
<li><a href="http://www.canada.ca/en/gov/libraries/index.html">Libraries</a></li>
<li><a href="http://www.canada.ca/en/gov/publications/index.html">Publications</a></li>
<li><a href="http://www.canada.ca/en/gov/statistics/index.html">Statistics &amp; data</a></li>
<li><a href="http://www.canada.ca/en/newsite.html">About Canada.ca</a></li>
</ul>
</section>
<section class="col-sm-3 col-lg-3 brdr-lft">
<h3>Transparency</h3>
<ul class="list-unstyled">
<li><a href="http://www.canada.ca/en/transparency/reporting.html">Government-wide reporting</a></li>
<li><a href="http://open.canada.ca/en/">Open government</a></li>
<li><a href="http://www.canada.ca/en/transparency/disclosure.html">Proactive disclosure</a></li>
<li><a href="http://www.canada.ca/en/transparency/terms.html">Terms &amp; conditions</a></li>
<li><a href="http://www.canada.ca/en/transparency/privacy.html">Privacy</a></li>
</ul>
</section>
<div class="col-sm-3 col-lg-3 brdr-lft">
<section>
<h3>Feedback</h3>
<p><a href="http://www.canada.ca/en/contact/feedback.html"><img src="../assets/feedback.png" alt="Feedback about this Web site"></a></p>
</section>
<section>
<h3>Social media</h3>
<p><a href="http://www.canada.ca/en/social/index.html"><img src="../assets/social.png" alt="Social media"></a></p>
</section>
<section>
<h3>Mobile centre</h3>
<p><a href="http://www.canada.ca/en/mobile/index.html"><img src="../assets/mobile.png" alt="Mobile centre"></a></p>
</section>
</div>
</div>
</nav>
<div class="brand">
<div class="container">
<div class="row">
<div class="col-xs-6 visible-sm visible-xs tofpg">
<a href="#wb-cont">Top of Page <span class="glyphicon glyphicon-chevron-up"></span></a>
</div>
<div class="col-xs-6 col-sm-12 text-right">
<object type="image/svg+xml" tabindex="-1" role="img" data="../assets/wmms-blk.svg" aria-label="Symbol of the Government of Canada"></object>
</div>
</div>
</div>
</div>
</footer>
<!--[if gte IE 9 | !IE ]><!-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="../js/wet-boew.min.js"></script>
<!--<![endif]-->
<!--[if lt IE 9]>
<script src="../js/ie8-wet-boew2.min.js"></script>
<![endif]-->
<script src="../js/theme.min.js"></script>
<script src="../js/rep.js"></script>
<script type="text/javascript" id="">

$(document).ready(function() {
   setCookie("currentURL",window.location.href);
   setCookie("typeREP", "ra");
   setCookie("actionREP", "NEW");
});

$(document).on('change', '.btn-file :file', function() {
  var input = $(this),
      numFiles = 1,
      label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
  input.trigger('fileselect', [numFiles, label]);
});

$(document).ready( function() {
    $('.btn-file :file').on('fileselect', function(event, numFiles, label) {
        
        var input = $(this).parents('.input-group').find(':text'),
            log = numFiles > 1 ? numFiles + ' files selected' : label;
        
        if( input.length ) {
            input.val(log);
        } else {
            if( log ) alert(log);
        }
        
    });
});

var prevURL = readCookie("currentURL");

function otherCheckBox(checkbox, input) {
			
	if(checkbox.checked == true){
        $(input).css('display', 'block');
    	}else{
       $(input).css('display', 'none');
   }
}

function checkRaEnrolmentSubThirdPartySelection(){
	var obj = document.getElementsByName('raEnrolmentSubThirdParty')[0];
	var div = document.getElementById('raAutLetter');

	if (obj.value == '1') {
		div.style.display = "block";
	} 
	else {
		div.style.display = "none";
	}
	
}

function uploadBtn() {
	document.getElementById("uploadFile").value = document.getElementById('raAutLetterFileUpload').value;
}

//var raDINCount = 4; //keeps track of number of current DINs (initially, there are 4)
//var raDINButCount = 1; //keeps track of the number of buttons used to add/delete DINs
var raRelCount = 1; //keeps track of the number of Related Regulatory Activity Submissions
var numOfRefProductsCreated = 1;
//adds a new reference product
function addNewRelSubmission() {
	var newRelSub = '<li id="raEnrolmentRel1"><details open="open"><summary class="heightAdjust">Related Regulatory Activity 1 [Referred to in this Submission]<button class="btn btn-danger btn-xs deleteRef" onclick="deleteRelSubmission(raEnrolmentRel1)" type="submit"><span class="glyphicon glyphicon-trash"></span> Delete</button></summary><div class="well well-sm"><div class="row"><div class="form-group col-sm-12"><label for="raEnrolmentRel1ActivityType" class="control-label">Regulatory Activity Type:</label><div class=""><select class="form-control input-sm full-width" name="raEnrolmentRel1ActivityType" id="raEnrolmentRel1ActivityType"><option label=" "></option><option value="1"></option><option value="2"></option></select></div></div></div><div class="row"><div class="form-group col-sm-3"><label for="raEnrolmentRel1DateCleared" ><span class="field-name">Date Cleared</span><span class="datepicker-format"> (<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</span>: </label><input class="form-control input-sm full-width" type="date" id="raEnrolmentRel1DateCleared" name="raEnrolmentRel1DateCleared" data-rule-dateiso="true"></div><div class="form-group col-sm-3"><label for="raEnrolmentRel1ControlNo" class="control-label">Control No.</label><div class=""><input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1ControlNo"></div></div><div class="form-group col-sm-3"><label for="raEnrolmentRel1FilNo" class="control-label">File No.</label><div class=""><input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1FilNo"></div></div></div><div class="row"><div class="form-group col-sm-12"><label for="raEnrolmentRel1ManuName" class="control-label">Manufacturer / Sponsor Name [Full Legal Name - No Abbreviations]</label><div class=""><input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1ManuName"></div></div></div><div class="row"><div class="form-group col-sm-12"><label for="raEnrolmentRel1SubReason" class="control-label">Reason for Submission</label><div class=""><input type="text" class="form-control input-sm full-width" id="raEnrolmentRel1SubReason"></div></div></div><div id="raEnrolmentRel1DIN"><div class="row"><label for="raEnrolmentRel1DINLabel" class=" col-sm-10 control-label">Associated DINs</label></div><div id="raEnrolmentRel1DINRows"><div class="row" id="raEnrolmentRel1DINRow1"><div class="col-sm-3 form-group" id="raEnrolmentRel1DIN1Grp"><label class="wb-inv" for="raEnrolmentRel1DIN1">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN1" placeholder=""><span class="input-group-btn"><button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN1DelBut, \'raEnrolmentRel1DIN\')" id="raEnrolmentRel1DIN1DelBut" type="button"><span class="glyphicon glyphicon-remove removeSize"></span></button></span></div></div><div class="col-sm-3 form-group" id="raEnrolmentRel1DIN2Grp"><label class="wb-inv" for="raEnrolmentRel1DIN2">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN2" placeholder=""><span class="input-group-btn"><button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN2DelBut, \'raEnrolmentRel1DIN\')" id="raEnrolmentRel1DIN2DelBut" type="button"><span class="glyphicon glyphicon-remove"></span></button></span></div></div><div class="col-sm-3 form-group" id="raEnrolmentRel1DIN3Grp"><label class="wb-inv" for="raEnrolmentRel1DIN3">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN3" placeholder=""><span class="input-group-btn"><button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN3DelBut, \'raEnrolmentRel1DIN\')" id="raEnrolmentRel1DIN3DelBut" type="button"><span class="glyphicon glyphicon-remove"></span></button></span></div></div><div class="col-sm-3 form-group" id="raEnrolmentRel1DIN4Grp"><label class="wb-inv" for="raEnrolmentRel1DIN4">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN4" placeholder=""><span class="input-group-btn"><button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN4DelBut, \'raEnrolmentRel1DIN\')" id="raEnrolmentRel1DIN4DelBut" type="button"><span class="glyphicon glyphicon-remove"></span></button></span></div></div></div></div></div><div class="row"><div class="form-group col-sm-2" id="raEnrolmentRel1DINAddBut"><button class="btn btn-default btn-sm" type="submit" id="raEnrolmentRel1AddBut" onclick="addDIN(raEnrolmentRel1AddBut,\'raEnrolmentRel1DIN\')">Add a DIN</button></div></div></div></details></li>';
	//increment counter
	raRelCount++;
	numOfRefProductsCreated++;
	//alert(canRefProductCounter);
	//replace sub-strings
	var newId = newRelSub.replace(/raEnrolmentRel1/g, 'raEnrolmentRel' + numOfRefProductsCreated);
	newId = newId.replace('Activity 1', 'Activity ' + raRelCount);
	$('#raEnrolmentRelList').append(newId);

}
/*
function replaceAll(str, find, rep) {
  return str.replace(new RegExp(find, 'g'), rep);
}
*/
//deletes a reference product
function deleteRelSubmission(i) {
	var removedItemIndex = $('#raEnrolmentRelList').find(i).index();
	$('#raEnrolmentRelList').find(i).remove();
	//decrement counter
	raRelCount--;
	
	var items = document.getElementById('raEnrolmentRelList').getElementsByTagName('li');
	for (var n = raRelCount-1; n >= removedItemIndex; n--) {
		//var currLabel = 'raEnrolmentRel' + (n+2);
		//var newLabel = 'raEnrolmentRel' + (n+1);
		//var currContent = items[n].innerHTML;
		//var newContent = replaceAll(currContent, currLabel, newLabel);
		var text = $(items[n]).find('summary')[0].innerHTML;
		var newStr = newContent.replace('Activity ' + (n+2), 'Activity ' + (n+1));
		$(items[n]).find('summary')[0].innerHTML = newStr;
		//items[n].id = newLabel;
	}
}

/*To Show and Hide Div -> if optYes is selected, content will show; otherwise it will hide
function ShowHideDivGen(optYes, content) { //general case
	content.style.display = optYes.checked ? "none" : "block";
}

function changeSuggestions(txtBoxCountryValue, txtBoxProvStateId) {
		var provStateTextBox = document.getElementById(txtBoxProvStateId);
			if (txtBoxCountryValue == 'Canada') {
				provStateTextBox.setAttribute('list','canProvSuggestions');
		   } else if (txtBoxCountryValue == 'United States') {
				provStateTextBox.setAttribute('list', 'usStateSuggestions');
		   } else {
				provStateTextBox.setAttribute('list', '');
		   }
		   provStateTextBox.value = '';
}
*/
//parameters: but = button; relId = related submission Id (i.e. relEnrolmentRel1DIN)
      function addDIN(but, relId) {
          //get the number of div.row
          var raDINRowCount = $('#' + relId + 'Rows .row').length;
          //count the number of DINs in each Row
          var raDINCount;
          if (raDINRowCount == 0) {
            raDINCount = 0;
          } else {
            raDINCount = $('#' + relId + 'Rows').find('div.row div.col-sm-3').length;
          }
		  
		  var defaultDIN = '<div class="col-sm-3 form-group" id="raEnrolmentRel1DIN1Grp"><label class="wb-inv" for="raEnrolmentRel1DIN1">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN1" placeholder=""><span class="input-group-btn"><button class="btn btn-danger btn-sm" onclick="deleteDIN(raEnrolmentRel1DIN1DelBut, \'raEnrolmentRel1DIN\')" id="raEnrolmentRel1DIN1DelBut" type="button"><span class="glyphicon glyphicon-remove"></span></button></span></div></div>';
		  var replacedDin;
		  var newDIN;
		  if (raDINCount == 0) {
			replacedDIN = replaceAll(defaultDIN, 'raEnrolmentRel1DIN' + '1', relId + '1');
			newDIN = replacedDIN.replace('raEnrolmentRel1DIN', relId);
		  } else {
		
		//get the the id of the last DIN in the last row
		var raLastDINId = $('#' + relId + 'Rows').find('div.row:eq(' + (raDINRowCount-1) + ') div.col-sm-3:last')[0].id;
		var raLastDINIndex1 = raLastDINId.indexOf('DIN');
		var raLastDINIndex2 = raLastDINId.indexOf('Grp');
		var raLastDINIndexId = raLastDINId.substring(raLastDINIndex1 + 3, raLastDINIndex2);
          //alert('Add Button has been clicked ' + raDINAddButCount + 'times');
          
		  //replace id of defautDIN based on the number of current DINs
          replacedDIN = replaceAll(defaultDIN, 'raEnrolmentRel1DIN' + '1', relId + (parseInt(raLastDINIndexId)+1));
          newDIN = replacedDIN.replace('raEnrolmentRel1DIN', relId);
		  }
          //get number of current DINs in the last row, and check if there is a need to create new row
          var lastRow = $('#' + relId + 'Row' + raDINRowCount);
          //get the number of divs in the lastRow
          var numOfDINsInLastRow;
          $(lastRow).each(function() {
            numOfDINsInLastRow = $(this).find('div.col-sm-3').length;
          });
          if ((numOfDINsInLastRow%4 == 0) && (numOfDINsInLastRow != 0)) { //add new row (with newDIN) beneath
            raDINRowCount++;
            var newRow = '<div class="row" id="' + relId + 'Row' + raDINRowCount + '">' + newDIN + '</div>';
            $('#' + relId + 'Rows').append(newRow);
          } else { //do not add row
            $(lastRow).append(newDIN);
          }
      }
	  
      // parameters: but - button; relId - related submission id (i.e. relEnrolmentRel1DIN)
      function deleteDIN(delBut, relId) {
          //get the parent div of but (i.e. the currentRow where but belongs to)
          var currentDiv = $(delBut).parent().closest('div.col-sm-3');
          //get row where currentDiv belonged to
          var currentRow = $(currentDiv).parent().closest('div.row');
          //get index of currentRow in the parent div raEnrolmentRel1DIN (which contains all the DINs)
          var currentRowIndex = $(currentRow).index(); //NOTE: is zero-based
		  //get currentDiv id's
		  var currentDivId = $(currentDiv).find('input[type=text]').prop('id');
		  var currentDivIdNum = currentDivId.substring(currentDivId.lastIndexOf("DIN") + 3);
          //remove it
          $(currentDiv).remove();
		  
          //reorganize the DINs ->
          //if numOfDINsInCurrentRow is less than 4, we must reorganize the DINs
          var nextRow; //row after currentRow
          var numOfDINsToGet;
          var numOfDINsInCurrentRow;
		  //get the number of div.row
          var raDINRowCount = $('#' + relId + 'Rows .row').length;
          while (currentRowIndex < (raDINRowCount-1)) {
            //get the number of divs within the currentRow
            $(currentRow).each(function(i) {
              numOfDINsInCurrentRow = $(this).find('div.col-sm-3').length;
            });
            numOfDINsToGet = 4 - numOfDINsInCurrentRow;
            //get the next row after currentRow
            var nextRow = $('#' + relId + 'Rows').find('div.row:eq(' + (currentRowIndex + 1) + ')');
            //get the DINs from the nextRow and move them to the currentRow
            for (var i = 0; i < numOfDINsToGet; i++) {
              var DINToGet = $(nextRow).find('div.col-sm-3:eq(' + i + ')');
			  $(DINToGet).remove();
              $(currentRow).append(DINToGet);
              //$(nextRow).find(DINToGet).remove();
            }
            currentRowIndex++;
            currentRow = $("#" + relId + "Rows div.row:eq(" + currentRowIndex + ")");
          }
          //if lastRow contains no elements, remove it
          if ($(currentRow).children().length == 0) {
			if ((raDINRowCount-1) >= 1) {
				$(currentRow).remove();
            //raDINRowCount--;
			}
		}

		
		/*
		  //must rename the labels starting from the removed DIN (NEVER DO THIS!)
		  //get total number of DINs
		  var raDINRowCount = $('#' + relId + ' .row').length;
          //count the number of DINs in each Row
          var raDINCount = 0;
		  for (var t = 1; t <= raDINRowCount; t++) {
			raDINCount += $('#' + relId + ' .row:eq(' + (t-1) + ')').children().length;
		  }
		  for (var w = currentDivIdNum; w <= raDINCount; w++) {
			var DINGrp = $('#' + relId + (parseInt(w) + 1) + 'Grp');
			var replacedGrp = replaceAll(DINGrp[0].outerHTML, relId + (parseInt(w) + 1), relId + parseInt(w));
			DINGrp[0].outerHTML = replacedGrp;
		  }
		  */
      }

/*
//parameters: raDINTableId
function addDIN(raEnrolmentRelDINId) {
	$("#" + raEnrolmentRelDINId + " #" + raEnrolmentRelDINId + "AddBut").unbind("click").click(function() {
		var dinTable = raEnrolmentRelDINId + 'Table';
		//get current number of rows in table
		var tableRowCount = $('#' + dinTable + ' tr').length;
		//get current number of empty cells in table
		var totalEmptyCellCount = $('#' + dinTable + ' td:empty').length;
		//get current number of "-" buttons
		var totalDeleteButCount = (tableRowCount*4) - totalEmptyCellCount - 4;
		//increment DIN count
		raDINCount++;
		var defaultDIN = '<div class="col-sm-2" id="raEnrolmentRel1DIN1Grp"><label class="wb-inv" for="raEnrolmentRel1DIN1">DIN</label><div class="input-group"><input type="text" class="form-control input-sm col-sm-2" id="raEnrolmentRel1DIN1" /><span class="input-group-btn"><button class="btn btn-default btn-xs col-sm-1" type="button" onclick="deleteDIN(this, raEnrolmentRel1DIN.id)" id="raEnrolmentRel1DINDelBut' + (totalDeleteButCount+1) + '">X</button></span></div></div>';
		//replace labels with new DIN id
		var changedDIN = replaceAll(defaultDIN, 'raEnrolmentRel1DIN1', raEnrolmentRelDINId + raDINCount);
		var newDIN = changedDIN.replace(/raEnrolmentRel1DIN/g, raEnrolmentRelDINId);
		
		//if there is an empty cell, add the DIN to it; otherwise, create a new row in the table and add the DIN into the first cell of that row
		if(totalEmptyCellCount > 0) {
			//get the first empty cell in the table
			var firstEmptyCell = $('#' + dinTable + ' td:empty:eq(0)');
			var emptyCell = $(firstEmptyCell);
			//add new DIN to cell
			emptyCell.append(newDIN);
		} else {
			//add a new row with 4 empty cells into the table
			$('#' + dinTable + ' tr:last').after('<tr><td class="col-sm-3"></td><td class="col-sm-3"></td><td class="col-sm-3"></td><td class="col-sm-3"></td></tr>');
			$('#' + dinTable + ' tr:last td:first').append(newDIN);
		}
		
	});
} 

function deleteDIN(i, raEnrolmentRelDINId) {
	var dinTable = raEnrolmentRelDINId + 'Table';
	var cellToRemove = $('#' + dinTable).find(i).closest('td');
	var rows = $('#' + dinTable + ' tr');
	var numOfRows = $(rows).length;
	var currRowIndex = $('#' + dinTable).find(i).closest('td').closest('tr').index();
	var cellArray = []; //holds the required cells to fill current Row
	var currRow;
	var numOfEmptySpacesInRow = 0;
	var numOfNonEmptyCellsInTable = $('#' + dinTable).find('tr td:not(:empty)').length;
	var cell;
	var nextRow;
	$(cellToRemove).remove();
	//stop shifting cells if last row of table has been reached
	while (currRowIndex < (numOfRows-1)) {
		//current row to look at
		currRow = rows.eq(currRowIndex);
		//find number of empty spaces to fill in current row
		numOfEmptySpacesInRow = 4 - $(currRow).find('td').length;
		//get the cells needed to fill in current row
		nextRow = rows.eq(currRowIndex+1);
		for (var i = 0; i < numOfEmptySpacesInRow; i++) {
			cell = nextRow[0].cells[i];
			cellArray.push(cell);
			$(cell).remove();
		}
		//add the cells in cellArray into current row
		for (var n = 0; n < numOfEmptySpacesInRow; n++) {
			currRow.append(cellArray[n]);
		}
		//increment to next row
		currRowIndex++;
		cellArray = [];
	}
	var lastRow = $('#' + dinTable).find('tr:last');
	var numOfCellsInLastRow = $(lastRow).find('td').length;
	var numOfEmptyCellsInLastRow = $(lastRow).find('td:empty').length;
	//remove last row if it contains just empty cells
	if ((numOfEmptyCellsInLastRow > 0) && (numOfCellsInLastRow == numOfEmptyCellsInLastRow)) {
		$(lastRow).remove();
	} else {
		//add empty cells to last row if necessary
		var numOfEmptySpacesInLastRow = 4 - $(lastRow).find('td').length;
		for (var t = 0 ; t < numOfEmptySpacesInLastRow; t++) {
			$(lastRow).append('<td class="col-sm-3"></td>');
		}
	}

	raDINCount--;
}
*/	   
/*
//adds a new DIN set !Consider using an index as a parameter !NO LONGER IN USE!
function addDINSet(raRelDINDivId, raRelDivId) {
	var newDINSet = '<div class="row" id="raEnrolmentRel1DIN1Set"><div class="form-group col-sm-2"><div class=""><input type="text" class="form-control input-sm full-width" name="raEnrolmentRel1DIN1" id="raEnrolmentRel1DIN1a"></div></div><div class="form-group col-sm-2"><div class=""><input type="text" class="form-control input-sm full-width" name="raEnrolmentRel1DIN1" id="raEnrolmentRel1DIN1b"></div></div><div class="form-group col-sm-2"><div class=""><input type="text" class="form-control input-sm full-width" name="raEnrolmentRel1DIN1" id="raEnrolmentRel1DIN1c"></div></div><div class="form-group col-sm-2"><div class=""><input type="text" class="form-control input-sm full-width" name="raEnrolmentRel1DIN1" id="raEnrolmentRel1DIN1d"></div></div></div>';
	
	//get # of current DIN sets
	var raDINCount = $('#' + raRelDINDivId).children().size() - 1; //excludes button row
	var idDIN = raRelDivId + 'DINdiv';
	
	//replace substrings
	var newId = newDINSet.replace(/raEnrolmentRel1DIN1/g, raRelDivId + 'DIN' + (raDINCount+1));
	$('#' + idDIN).append(newId);

}
*/
</script>
</body>
</html>
